% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stackMatrix.R
\name{stackMatrix}
\alias{stackMatrix}
\title{Stack and Align Sparse Matrices}
\usage{
stackMatrix(dataList, missingValue = NaN)
}
\arguments{
\item{dataList}{A list of sparse matrices (each of class \code{dgCMatrix}) to be stacked.}

\item{missingValue}{A numeric or logical value to fill missing columns (default: \code{NaN}).}
}
\value{
A sparse numeric matrix (\code{dgCMatrix}) with rows from all matrices in \code{dataList} and columns corresponding to unique cell names.
Missing values are set to \code{NaN}.
}
\description{
Combines a list of sparse matrices by stacking them row-wise while aligning their columns based on unique cell names.
Missing values in the alignment process are filled with \code{NaN}.
}
\details{
This function ensures that all matrices in \code{dataList} are aligned to the same column names before stacking them.
It creates a sparse matrix large enough to contain all rows from \code{dataList} while maintaining sparsity.

Row names are preserved and updated accordingly.
}
\examples{
library(Matrix)

# Create example sparse matrices
mat1 <- Matrix(sample(c(0, 1), 20, replace = TRUE), nrow = 4, sparse = TRUE)
colnames(mat1) <- c("A", "B", "C", "D", "E")
rownames(mat1) <- paste0("R", 1:4)

mat2 <- Matrix(sample(c(0, 1), 15, replace = TRUE), nrow = 3, sparse = TRUE)
colnames(mat2) <- c("A", "B", "C", "D", "F")
rownames(mat2) <- paste0("R", 5:7)

dataList <- list(mat1, mat2)

# Stack matrices while aligning columns
stackedMat <- stackMatrix(dataList)

print(stackedMat)

}
